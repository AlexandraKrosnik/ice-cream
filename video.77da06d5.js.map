{"version":3,"sources":["js/video.js"],"names":["findVideos","videos","document","querySelectorAll","i","length","setupVideo","video","link","querySelector","media","button","id","parseMediaURL","addEventListener","iframe","createIframe","remove","appendChild","removeAttribute","classList","add","match","src","createElement","setAttribute","generateURL"],"mappings":";AAAA,SAASA,IACHC,IAAAA,EAASC,SAASC,iBAAiB,UAElC,IAAA,IAAIC,EAAI,EAAGA,EAAIH,EAAOI,OAAQD,IACjCE,EAAWL,EAAOG,IAItB,SAASE,EAAWC,GACdC,IAAAA,EAAOD,EAAME,cAAc,gBAC3BC,EAAQH,EAAME,cAAc,iBAC5BE,EAASJ,EAAME,cAAc,kBAC7BG,EAAKC,EAAcH,GAEvBH,EAAMO,iBAAiB,QAAS,KAC1BC,IAAAA,EAASC,EAAaJ,GAE1BJ,EAAKS,SACLN,EAAOM,SACPV,EAAMW,YAAYH,KAGpBP,EAAKW,gBAAgB,QACrBZ,EAAMa,UAAUC,IAAI,kBAGtB,SAASR,EAAcH,GAKdY,OAHGZ,EAAMa,IACAD,MAFH,sEAIA,GAGf,SAASN,EAAaJ,GAChBG,IAAAA,EAASb,SAASsB,cAAc,UAO7BT,OALPA,EAAOU,aAAa,kBAAmB,IACvCV,EAAOU,aAAa,QAAS,YAC7BV,EAAOU,aAAa,MAAOC,EAAYd,IACvCG,EAAOK,UAAUC,IAAI,gBAEdN,EAGT,SAASW,EAAYd,GAGZ,MAAA,iCAAmCA,EAF9B,+BAKdZ","file":"video.77da06d5.js","sourceRoot":"..\\src","sourcesContent":["function findVideos() {\r\n  let videos = document.querySelectorAll('.video');\r\n\r\n  for (let i = 0; i < videos.length; i++) {\r\n    setupVideo(videos[i]);\r\n  }\r\n}\r\n\r\nfunction setupVideo(video) {\r\n  let link = video.querySelector('.video__link');\r\n  let media = video.querySelector('.video__media');\r\n  let button = video.querySelector('.video__button');\r\n  let id = parseMediaURL(media);\r\n\r\n  video.addEventListener('click', () => {\r\n    let iframe = createIframe(id);\r\n\r\n    link.remove();\r\n    button.remove();\r\n    video.appendChild(iframe);\r\n  });\r\n\r\n  link.removeAttribute('href');\r\n  video.classList.add('video--enabled');\r\n}\r\n\r\nfunction parseMediaURL(media) {\r\n  let regexp = /https:\\/\\/i\\.ytimg\\.com\\/vi\\/([a-zA-Z0-9_-]+)\\/maxresdefault\\.jpg/i;\r\n  let url = media.src;\r\n  let match = url.match(regexp);\r\n\r\n  return match[1];\r\n}\r\n\r\nfunction createIframe(id) {\r\n  let iframe = document.createElement('iframe');\r\n\r\n  iframe.setAttribute('allowfullscreen', '');\r\n  iframe.setAttribute('allow', 'autoplay');\r\n  iframe.setAttribute('src', generateURL(id));\r\n  iframe.classList.add('video__media');\r\n\r\n  return iframe;\r\n}\r\n\r\nfunction generateURL(id) {\r\n  let query = '?rel=0&showinfo=0&autoplay=1';\r\n\r\n  return 'https://www.youtube.com/embed/' + id + query;\r\n}\r\n\r\nfindVideos();\r\n"]}